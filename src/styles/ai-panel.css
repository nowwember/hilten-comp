/* AI Panel: utilities scoped to avoid Tailwind conflicts */

/* Animations: fade + slide */
@keyframes ai-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes ai-slide-up {
  from { transform: translateY(8px); }
  to { transform: translateY(0); }
}

.ai-animate-in {
  animation: ai-fade-in 0.2s ease-out, ai-slide-up 0.2s ease-out;
}

/* Typing dots (no external libs) */
@keyframes ai-bounce {
  0%, 80%, 100% { transform: translateY(0); opacity: 0.6; }
  40% { transform: translateY(-4px); opacity: 1; }
}

.ai-typing-dot {
  width: 6px;
  height: 6px;
  border-radius: 9999px;
  background-color: rgba(115, 115, 115, 0.9);
  display: inline-block;
  animation: ai-bounce 1.2s infinite ease-in-out both;
}

.ai-typing-dot:nth-child(1) { animation-delay: 0ms; }
.ai-typing-dot:nth-child(2) { animation-delay: 150ms; }
.ai-typing-dot:nth-child(3) { animation-delay: 300ms; }

/* Mobile handle for draggable sheet-like panel */
.ai-panel-handle {
  width: 40px;
  height: 4px;
  border-radius: 9999px;
  background: rgba(0,0,0,0.12);
  margin: 8px auto;
  cursor: grab;
}

.ai-panel-handle:active { cursor: grabbing; }

/* Soft borders and shadows */
.ai-soft-border { border: 1px solid rgba(0,0,0,0.06); }
.ai-soft-shadow { box-shadow: 0 1px 2px rgba(0,0,0,0.04), 0 4px 12px rgba(0,0,0,0.04); }
.ai-soft-shadow-sm { box-shadow: 0 1px 2px rgba(0,0,0,0.05); }

/* Scrollbar tweaks (webkit only) */
.ai-panel-scroll::-webkit-scrollbar { width: 6px; height: 6px; }
.ai-panel-scroll::-webkit-scrollbar-track { background: transparent; }
.ai-panel-scroll::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.12); border-radius: 3px; }
.ai-panel-scroll::-webkit-scrollbar-thumb:hover { background: rgba(0,0,0,0.18); }

/* Message prose refinements (kept minimal) */
.ai-message-prose { font-size: 0.875rem; line-height: 1.6; }
.ai-message-prose p { margin: 0.5rem 0; }
.ai-message-prose p:first-child { margin-top: 0; }
.ai-message-prose p:last-child { margin-bottom: 0; }
.ai-message-prose pre { background: #f8f9fa; border: 1px solid #e9ecef; border-radius: 0.75rem; padding: 0.75rem 1rem; margin: 0.75rem 0; overflow-x: auto; }
.ai-message-prose code { background: #f8f9fa; border: 1px solid #e9ecef; border-radius: 0.375rem; padding: 0.125rem 0.25rem; font-size: 0.875em; }

/* Mobile panel sizing helper */
@media (max-width: 768px) {
  .ai-panel-mobile { max-height: 90vh; min-height: 60vh; }
}

/* Quick action micro animation */
.ai-qa-enter { opacity: 0; transform: translateY(4px); }
.ai-qa-enter-active { opacity: 1; transform: translateY(0); transition: opacity 0.2s ease-out, transform 0.2s ease-out; }

/* Optional .textarea utility for consistency */
.textarea {
  background: #ffffff;
  color: #0f172a; /* slate-900 */
  border: 1px solid rgba(15, 23, 42, 0.10);
}
.textarea::placeholder { color: #94a3b8; } /* slate-400 */
.textarea:focus { box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.14); } /* indigo ring */

/* During resize, prevent text selection */
.ai-resizing, .ai-resizer, .ai-resizing * {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
